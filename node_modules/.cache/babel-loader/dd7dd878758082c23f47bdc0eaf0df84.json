{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\STEVEDESKTOP\\\\Desktop\\\\themeforest-5lg3m8tG-vuexy-vuejs-html-laravel-admin-dashboard-template\\\\vuexy-admin-v8.1.0\\\\react-version\\\\Bootstrap5\\\\full-version\\\\full-version\\\\src\\\\@core\\\\components\\\\routes\\\\PrivateRoute.js\",\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { Navigate } from 'react-router-dom';\nimport { useContext, Suspense } from 'react'; // ** Context Imports\n\nimport { AbilityContext } from '@src/utility/context/Can';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PrivateRoute = _ref => {\n  _s();\n\n  let {\n    children,\n    route\n  } = _ref;\n  // ** Hooks & Vars\n  const ability = useContext(AbilityContext);\n  const user = JSON.parse(localStorage.getItem('userData'));\n\n  if (route) {\n    let action = null;\n    let resource = null;\n    let restrictedRoute = false;\n\n    if (route.meta) {\n      action = route.meta.action;\n      resource = route.meta.resource;\n      restrictedRoute = route.meta.restricted;\n    }\n\n    if (!user) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (user && restrictedRoute) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (user && restrictedRoute && user.role === 'client') {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/access-control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (user && !ability.can(action || 'read', resource)) {\n      return /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/misc/not-authorized\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: null,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n};\n\n_s(PrivateRoute, \"Mgx70MHFOjWkgzuKcjn1pYPEx8o=\");\n\n_c = PrivateRoute;\nexport default PrivateRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"sources":["C:/Users/STEVEDESKTOP/Desktop/themeforest-5lg3m8tG-vuexy-vuejs-html-laravel-admin-dashboard-template/vuexy-admin-v8.1.0/react-version/Bootstrap5/full-version/full-version/src/@core/components/routes/PrivateRoute.js"],"names":["Navigate","useContext","Suspense","AbilityContext","PrivateRoute","children","route","ability","user","JSON","parse","localStorage","getItem","action","resource","restrictedRoute","meta","restricted","role","can"],"mappings":";;;AAAA;AACA,SAASA,QAAT,QAAyB,kBAAzB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC,C,CAEA;;AACA,SAASC,cAAT,QAA+B,0BAA/B;;;AAEA,MAAMC,YAAY,GAAG,QAAyB;AAAA;;AAAA,MAAxB;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAwB;AAC5C;AACA,QAAMC,OAAO,GAAGN,UAAU,CAACE,cAAD,CAA1B;AACA,QAAMK,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAb;;AAEA,MAAIN,KAAJ,EAAW;AACT,QAAIO,MAAM,GAAG,IAAb;AACA,QAAIC,QAAQ,GAAG,IAAf;AACA,QAAIC,eAAe,GAAG,KAAtB;;AAEA,QAAIT,KAAK,CAACU,IAAV,EAAgB;AACdH,MAAAA,MAAM,GAAGP,KAAK,CAACU,IAAN,CAAWH,MAApB;AACAC,MAAAA,QAAQ,GAAGR,KAAK,CAACU,IAAN,CAAWF,QAAtB;AACAC,MAAAA,eAAe,GAAGT,KAAK,CAACU,IAAN,CAAWC,UAA7B;AACD;;AACD,QAAI,CAACT,IAAL,EAAW;AACT,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,QAAIA,IAAI,IAAIO,eAAZ,EAA6B;AAC3B,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,QAAIP,IAAI,IAAIO,eAAR,IAA2BP,IAAI,CAACU,IAAL,KAAc,QAA7C,EAAuD;AACrD,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AACD,QAAIV,IAAI,IAAI,CAACD,OAAO,CAACY,GAAR,CAAYN,MAAM,IAAI,MAAtB,EAA8BC,QAA9B,CAAb,EAAsD;AACpD,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC,sBAAb;AAAoC,QAAA,OAAO;AAA3C;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;AACF;;AAED,sBAAO,QAAC,QAAD;AAAU,IAAA,QAAQ,EAAE,IAApB;AAAA,cAA2BT;AAA3B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA9BD;;GAAMD,Y;;KAAAA,Y;AAgCN,eAAeA,YAAf","sourcesContent":["// ** React Imports\nimport { Navigate } from 'react-router-dom'\nimport { useContext, Suspense } from 'react'\n\n// ** Context Imports\nimport { AbilityContext } from '@src/utility/context/Can'\n\nconst PrivateRoute = ({ children, route }) => {\n  // ** Hooks & Vars\n  const ability = useContext(AbilityContext)\n  const user = JSON.parse(localStorage.getItem('userData'))\n\n  if (route) {\n    let action = null\n    let resource = null\n    let restrictedRoute = false\n\n    if (route.meta) {\n      action = route.meta.action\n      resource = route.meta.resource\n      restrictedRoute = route.meta.restricted\n    }\n    if (!user) {\n      return <Navigate to='/login' />\n    }\n    if (user && restrictedRoute) {\n      return <Navigate to='/' />\n    }\n    if (user && restrictedRoute && user.role === 'client') {\n      return <Navigate to='/access-control' />\n    }\n    if (user && !ability.can(action || 'read', resource)) {\n      return <Navigate to='/misc/not-authorized' replace />\n    }\n  }\n\n  return <Suspense fallback={null}>{children}</Suspense>\n}\n\nexport default PrivateRoute\n"]},"metadata":{},"sourceType":"module"}